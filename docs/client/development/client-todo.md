# Defense Allies 클라이언트 개발 TODO 리스트

## 📋 개발 우선순위

### Phase 1: 프로젝트 기반 구축 (1-2주) ✅ 완료
- [x] **프로젝트 초기 설정**
  - [x] Next.js 14 프로젝트 생성
  - [x] TypeScript 설정
  - [x] Tailwind CSS v4 + 커스텀 디자인 시스템 설정
  - [x] ESLint 설정 (기본)
  - [x] Prettier 설정 파일 생성
  - [ ] Husky + lint-staged 설정 (Node.js 18+ 필요)

- [x] **개발 환경 구성**
  - [x] Turbopack 설정 (기본 설정 완료)
  - [x] 환경 변수 설정 (.env.local, .env.example)
  - [x] 폴더 구조 생성 (app/, components/, lib/, stores/ 등)
  - [x] 절대 경로 import 설정 (@/ alias)

- [x] **기본 라이브러리 설치**
  - [x] React Three Fiber + drei + postprocessing
  - [x] Zustand (상태 관리)
  - [x] TanStack Query (서버 상태)
  - [x] React Hook Form + Zod (폼 관리)
  - [x] Framer Motion (애니메이션)
  - [x] clsx (유틸리티)

- [x] **기본 컴포넌트 및 유틸리티**
  - [x] Button 컴포넌트 (Primary, Secondary, Danger, Ghost variants)
  - [x] 유틸리티 함수 라이브러리 (cn, formatNumber, debounce 등)
  - [x] 디자인 시스템 정의 (컬러 팔레트, 타이포그래피, 스페이싱)

**⚠️ 주의사항**: Node.js 18+ 버전 필요 (현재 16.13.0 사용 중)
**🎯 다음 단계**: Node.js 업그레이드 후 개발 서버 실행 테스트

### Phase 2: 인증 및 기본 UI (1-2주)
- [ ] **디자인 시스템 구축**
  - [ ] 컬러 팔레트 정의 (Tailwind config)
  - [ ] 타이포그래피 시스템
  - [ ] 스페이싱 시스템
  - [ ] 기본 컴포넌트 라이브러리
    - [ ] Button 컴포넌트 (Primary, Secondary, Danger, Ghost)
    - [ ] Card 컴포넌트 (Default, Interactive, Status)
    - [ ] Input 컴포넌트 (Text, Search)
    - [ ] Modal 컴포넌트
    - [ ] Loading 컴포넌트

- [ ] **인증 시스템**
  - [ ] 게스트 로그인 구현
    - [ ] 로컬 스토리지 기반 게스트 계정
    - [ ] 닉네임 입력 (선택사항)
    - [ ] 자동 ID 생성
  - [ ] 로그인 화면 UI 구현
  - [ ] 인증 상태 관리 (Zustand)
  - [ ] 인증 훅 (useAuth)

- [ ] **기본 레이아웃**
  - [ ] 루트 레이아웃 (app/layout.tsx)
  - [ ] 모바일 우선 반응형 레이아웃
  - [ ] Safe Area 처리
  - [ ] 네비게이션 시스템

### Phase 3: 핵심 화면 구현 (2-3주)
- [ ] **홈 화면**
  - [ ] 프로필 카드 컴포넌트
  - [ ] 게임 시작 버튼
  - [ ] 서브 메뉴 (통계, 설정)
  - [ ] 하단 네비게이션

- [ ] **게임 로비**
  - [ ] 게임 속도 선택 UI
  - [ ] 매치메이킹 상태 표시
  - [ ] 플레이어 목록
  - [ ] 매치 취소 기능

- [ ] **프로필 화면**
  - [ ] 사용자 정보 표시
  - [ ] 게임 통계
  - [ ] 계정 연동 옵션

- [ ] **설정 화면**
  - [ ] 게임 설정
  - [ ] 사운드 설정
  - [ ] 알림 설정
  - [ ] 계정 관리

### Phase 4: 게임 엔진 기초 (2-3주)
- [ ] **React Three Fiber 설정**
  - [ ] 기본 Canvas 설정
  - [ ] 직교 카메라 (2D 뷰)
  - [ ] 조명 설정
  - [ ] 성능 최적화 설정

- [ ] **게임 기본 요소**
  - [ ] 맵 배경 컴포넌트
  - [ ] 게임 경로 렌더링
  - [ ] 기본 타워 컴포넌트 (기하학적 도형)
  - [ ] 기본 적 컴포넌트
  - [ ] 투사체 컴포넌트

- [ ] **게임 상태 관리**
  - [ ] 게임 상태 스토어 (Zustand)
  - [ ] 게임 액션 정의
  - [ ] 게임 루프 기초

### Phase 5: 인게임 UI (1-2주)
- [ ] **인게임 UI 구현**
  - [ ] 상단 정보 바 (웨이브, 체력, 골드, 점수)
  - [ ] 설정 버튼
  - [ ] 타워 선택 오버레이 패널
  - [ ] 타워 정보 오버레이 패널

- [ ] **인게임 설정 모달**
  - [ ] 사운드 토글
  - [ ] 화면 진동 설정
  - [ ] 게임 속도 정보 표시
  - [ ] 게임 나가기 기능

- [ ] **게임 결과 화면**
  - [ ] 승패 표시
  - [ ] 게임 통계
  - [ ] 보상 정보
  - [ ] 다시 플레이 / 홈으로 버튼

### Phase 6: 서버 통신 (2-3주)
- [ ] **HTTP 통신 구현**
  - [ ] REST API 클라이언트 (인증용)
  - [ ] JSON RPC 클라이언트 (게임 서버용)
  - [ ] SSE 클라이언트 (실시간 이벤트)

- [ ] **API 통합**
  - [ ] 인증 API 연동
  - [ ] 매치메이킹 API 연동
  - [ ] 게임 상태 동기화
  - [ ] 실시간 이벤트 처리

- [ ] **에러 처리**
  - [ ] 네트워크 오류 처리
  - [ ] 재연결 로직
  - [ ] 사용자 친화적 에러 메시지

### Phase 7: 게임 로직 완성 (3-4주)
- [ ] **타워 시스템**
  - [ ] 타워 배치 로직
  - [ ] 타워 업그레이드
  - [ ] 타워 판매
  - [ ] 타워 타입별 특성

- [ ] **적 시스템**
  - [ ] 적 이동 로직
  - [ ] 적 타입별 특성
  - [ ] 체력 시스템
  - [ ] 죽음 처리

- [ ] **전투 시스템**
  - [ ] 타워 공격 로직
  - [ ] 투사체 시스템
  - [ ] 데미지 계산
  - [ ] 특수 효과

- [ ] **웨이브 시스템**
  - [ ] 웨이브 진행 로직
  - [ ] 적 스폰 시스템
  - [ ] 난이도 조절

### Phase 8: 성능 최적화 및 폴리싱 (2-3주)
- [ ] **성능 최적화**
  - [ ] React.memo 적용
  - [ ] useMemo/useCallback 최적화
  - [ ] Three.js 인스턴싱
  - [ ] 객체 풀링
  - [ ] LOD 시스템

- [ ] **애니메이션 및 효과**
  - [ ] 타워 배치 애니메이션
  - [ ] 적 이동 애니메이션
  - [ ] 공격 이펙트
  - [ ] UI 트랜지션

- [ ] **사운드 시스템**
  - [ ] 효과음 재생
  - [ ] 배경음악
  - [ ] 볼륨 조절
  - [ ] 음소거 기능

### Phase 9: 테스팅 및 디버깅 (1-2주)
- [ ] **테스트 작성**
  - [ ] 컴포넌트 단위 테스트 (Jest + RTL)
  - [ ] 게임 로직 테스트
  - [ ] API 통신 테스트
  - [ ] E2E 테스트 (Playwright)

- [ ] **디버깅 도구**
  - [ ] 개발자 도구 통합
  - [ ] 게임 상태 디버거
  - [ ] 성능 모니터링

- [ ] **크로스 브라우저 테스트**
  - [ ] Chrome, Safari, Firefox 테스트
  - [ ] 모바일 브라우저 테스트
  - [ ] 성능 벤치마크

### Phase 10: 배포 준비 (1주)
- [ ] **빌드 최적화**
  - [ ] 프로덕션 빌드 설정
  - [ ] 코드 스플리팅
  - [ ] 번들 크기 최적화
  - [ ] 이미지 최적화

- [ ] **배포 설정**
  - [ ] Vercel 배포 설정
  - [ ] 환경 변수 설정
  - [ ] 도메인 연결
  - [ ] CDN 설정

## 🔧 개발 도구 및 유틸리티

### 필수 도구
- [ ] Storybook 설정 (컴포넌트 문서화)
- [ ] React DevTools
- [ ] Three.js DevTools
- [ ] 성능 모니터링 도구

### 선택적 도구
- [ ] Bundle Analyzer
- [ ] Lighthouse CI
- [ ] Sentry (에러 추적)
- [ ] Analytics 연동

## 📱 모바일 최적화 체크리스트

- [ ] 터치 이벤트 최적화
- [ ] 스크롤 성능 최적화
- [ ] 배터리 사용량 최적화
- [ ] 메모리 사용량 최적화
- [ ] 네트워크 사용량 최적화

## 🎯 마일스톤

- **Week 2**: ✅ 프로젝트 기반 구축 완료 (Phase 1)
- **Week 4**: 기본 UI 및 인증 완성 (Phase 2)
- **Week 8**: 게임 엔진 기초 완성 (Phase 3-4)
- **Week 12**: 서버 통신 및 멀티플레이어 기능 완성 (Phase 5-6)
- **Week 16**: 게임 로직 및 최적화 완성 (Phase 7-8)
- **Week 18**: 테스트 및 배포 완료 (Phase 9-10)

## 📝 참고사항

### 개발 환경 요구사항
- **Node.js**: 18.18.0+ 또는 20.0.0+ (Next.js 15 요구사항)
- **npm**: 8.0.0+ 또는 yarn 1.22.0+
- **브라우저**: Chrome 90+, Safari 14+, Firefox 88+

### 개발 진행 사항
- ✅ Phase 1 완료: 프로젝트 기반 구축
- 각 Phase는 병렬로 진행 가능한 부분이 있음
- 서버 개발 진행 상황에 따라 일정 조정 필요
- 정기적인 코드 리뷰 및 테스트 필수
- 사용자 피드백을 통한 지속적인 개선

### 알려진 이슈
- Node.js 16.x에서는 Next.js 15가 실행되지 않음
- Husky, lint-staged 등 일부 도구는 Node.js 18+ 필요
